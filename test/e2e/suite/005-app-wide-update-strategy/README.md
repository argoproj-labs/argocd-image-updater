This test case verifies [app wide update strategy](https://argocd-image-updater.readthedocs.io/en/stable/configuration/images/#update-strategies)

This test case uses image from public container registry and application source from public GitHub repo.

To run this individual test case,

* make sure both docker daemon and k8s cluster is running
* `cd $HOME/go/src/image-updater/test/e2e`
* `SRC_DIR=$HOME/go/src/argocd-image-updater kubectl kuttl test --namespace argocd-image-updater-e2e --timeout 120 --test 005-app-wide-update-strategy`

Test output:
```bash
=== RUN   kuttl
    harness.go:459: starting setup
    harness.go:254: running tests using configured kubeconfig.
    harness.go:277: Successful connection to cluster at: https://127.0.0.1:6443
    harness.go:362: running tests
    harness.go:74: going to run test suite with timeout of 120 seconds for each step
    harness.go:374: testsuite: ./suite has 11 tests
=== RUN   kuttl/harness
=== RUN   kuttl/harness/005-app-wide-update-strategy
=== PAUSE kuttl/harness/005-app-wide-update-strategy
=== CONT  kuttl/harness/005-app-wide-update-strategy
    logger.go:42: 19:04:06 | 005-app-wide-update-strategy | Ignoring README.md as it does not match file name regexp: ^(\d+)-(?:[^\.]+)(?:\.yaml)?$
    logger.go:42: 19:04:06 | 005-app-wide-update-strategy | Skipping creation of user-supplied namespace: argocd-image-updater-e2e
    logger.go:42: 19:04:06 | 005-app-wide-update-strategy/1-install | starting test step 1-install
    logger.go:42: 19:04:06 | 005-app-wide-update-strategy/1-install | Namespace:/image-updater-e2e-005-01 updated
Warning: metadata.finalizers: "resources-finalizer.argocd.argoproj.io": prefer a domain-qualified finalizer name including a path (/) to avoid accidental conflicts with other finalizer writers
    logger.go:42: 19:04:06 | 005-app-wide-update-strategy/1-install | Application:argocd-image-updater-e2e/image-updater-005-01 created
    logger.go:42: 19:04:06 | 005-app-wide-update-strategy/1-install | Namespace:/image-updater-e2e-005-02 updated
    logger.go:42: 19:04:06 | 005-app-wide-update-strategy/1-install | Application:argocd-image-updater-e2e/image-updater-005-02 created
    logger.go:42: 19:04:06 | 005-app-wide-update-strategy/1-install | ImageUpdater:argocd-image-updater-e2e/image-updater-005 updated
    logger.go:42: 19:04:08 | 005-app-wide-update-strategy/1-install | test step completed 1-install
    logger.go:42: 19:04:08 | 005-app-wide-update-strategy/2-run-updater | starting test step 2-run-updater
    logger.go:42: 19:04:08 | 005-app-wide-update-strategy/2-run-updater | running command: [sh -c ${SRC_DIR}/dist/argocd-image-updater run \
          --once \
          --argocd-namespace argocd-image-updater-e2e \
          --registries-conf-path ${SRC_DIR}/test/e2e/assets/registries.conf \
          --loglevel trace \
          --leader-election-namespace image-updater-system \
          --max-concurrent-reconciles 10
        ]
    logger.go:42: 19:04:08 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:08+02:00" level=info msg="Controller runtime logger initialized." controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater logger=controller-setup setAppLogLevel=trace
    logger.go:42: 19:04:08 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:08+02:00" level=info msg=starting app="argocd-image-updater: v99.9.9+895c87a" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater healthport=off interval=once logger=controller-setup loglevel=TRACE
    logger.go:42: 19:04:08 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:08+02:00" level=info msg="commit message template not found, using default" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater logger=controller-setup path=/app/config/commit.template
    logger.go:42: 19:04:08 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:08+02:00" level=info msg="Successfully parsed commit message template" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater logger=controller-setup
    logger.go:42: 19:04:08 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:08+02:00" level=debug msg="rate limiting is disabled" prefix="10.42.0.1:30000" registry="https://10.42.0.1:30000"
    logger.go:42: 19:04:08 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:08+02:00" level=info msg="Loaded 1 registry configurations from /home/dkarpele/go/src/argocd-image-updater/test/e2e/assets/registries.conf"
    logger.go:42: 19:04:08 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:08+02:00" level=info msg="Starting askpass server" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater logger=controller-setup
    logger.go:42: 19:04:08 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:08+02:00" level=info msg="ArgoCD configuration loaded" apiKind=kubernetes controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater grpc_web=false has_auth_token=false insecure=false logger=controller-setup plaintext=false server=argocd-server.argocd-image-updater-e2e
    logger.go:42: 19:04:08 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:08+02:00" level=info msg="webhook server is disabled" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater logger=controller-setup
    logger.go:42: 19:04:08 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:08+02:00" level=info msg="Adding cache warmer to the manager." controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater logger=controller-setup
    logger.go:42: 19:04:08 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:08+02:00" level=info msg="starting manager" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater logger=controller-setup
    logger.go:42: 19:04:08 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:08+02:00" level=info msg="starting server" addr="[::]:8081" name="health probe"
    logger.go:42: 19:04:08 | 005-app-wide-update-strategy/2-run-updater | I0819 19:04:08.511655   75233 leaderelection.go:257] attempting to acquire leader lease image-updater-system/c21b75f2.argoproj.io...
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | I0819 19:04:24.126059   75233 leaderelection.go:271] successfully acquired lease image-updater-system/c21b75f2.argoproj.io
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=debug msg="Caches are synced. Warming up image cache..." controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater logger=warmup-cache
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=debug msg="Listing all ImageUpdater CRs before starting manager..." controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater logger=warmup-cache
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=info msg="fedora_2f7dd789-168e-4a38-a6d3-2efab865b4b7 became leader" logger=events object="{\"kind\":\"Lease\",\"namespace\":\"image-updater-system\",\"name\":\"c21b75f2.argoproj.io\",\"uid\":\"77643e22-e263-4edd-aecc-a0600bd43382\",\"apiVersion\":\"coordination.k8s.io/v1\",\"resourceVersion\":\"63753\"}" reason=LeaderElection type=Normal
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=info msg="Starting EventSource" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater source="kind source: *v1alpha1.ImageUpdater"
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=info msg="Starting Controller" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=debug msg="Found 1 ImageUpdater CRs to process for cache warm-up." controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater logger=warmup-cache
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=info msg="Starting workers" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater worker count=10
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=info msg="Run-once mode: will process 1 CRs before stopping" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater logger=warmup-cache
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=debug msg="Found CR image-updater-005, namespace=argocd-image-updater-e2e" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=warmup-cache
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=info msg="Listing all applications in target namespace: argocd-image-updater-e2e" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=warmup-cache
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=debug msg="Reconciliation for argocd-image-updater-e2e/image-updater-005 is waiting for cache warm-up to complete..." controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=trace msg="Matching application name image-updater-005-01 against pattern *-01" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=warmup-cache
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=trace msg="processing app 'argocd-image-updater-e2e/image-updater-005-01' of type 'Kustomize'" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=warmup-cache
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=trace msg="Matching application name image-updater-005-02 against pattern *-01" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=warmup-cache
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=trace msg="Matching application name image-updater-005-02 against pattern *-02" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=warmup-cache
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=trace msg="processing app 'argocd-image-updater-e2e/image-updater-005-02' of type 'Kustomize'" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=warmup-cache
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=warning msg="\"latest\" strategy has been renamed to \"newest-build\". Please switch to the new convention as support for the old naming convention will be removed in future versions." controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=warmup-cache
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=debug msg="Processing application" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=warmup-cache
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=debug msg="Considering this image for update" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=debug msg="setting rate limit to 20 requests per second" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache prefix=quay.io registry="https://quay.io"
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=debug msg="Inferred registry from prefix quay.io to use API https://quay.io" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=debug msg="Using version constraint '~1.0' when looking for a new tag" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=trace msg="No tag match constraint found, allowing all tags" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=trace msg="Using runtime platform constraint linux/amd64" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:24 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:24+02:00" level=trace msg="No pull secret configured for this image" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:25 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:25+02:00" level=trace msg="Performing HTTP GET https://quay.io/v2/dkarpele/my-guestbook/tags/list"
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=trace msg="List of available tags found: [1.0.0 1.0.1 1.0.2 2.0.0]" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=trace msg="Finding out whether to consider 1.0.0 for being updateable" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=trace msg="Finding out whether to consider 1.0.1 for being updateable" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=trace msg="Finding out whether to consider 1.0.2 for being updateable" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=trace msg="Finding out whether to consider 2.0.0 for being updateable" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=trace msg="2.0.0 did not match constraint ~1.0" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=debug msg="found 3 from 4 tags eligible for consideration" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=info msg="Setting new image to quay.io/dkarpele/my-guestbook:1.0.2" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=trace msg="Setting Kustomize parameter quay.io/dkarpele/my-guestbook:1.0.2" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=info msg="Successfully updated image 'quay.io/dkarpele/my-guestbook:1.0.0' to 'quay.io/dkarpele/my-guestbook:1.0.2', but pending spec update (dry run=true)" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=debug msg="Using commit message: " application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=warmup-cache
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=info msg="Dry run - not committing 1 changes to application" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=warmup-cache
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=debug msg="Processing application" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=warmup-cache
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=debug msg="Considering this image for update" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=debug msg="Using version constraint 'latest' when looking for a new tag" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=trace msg="No tag match constraint found, allowing all tags" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=trace msg="Using runtime platform constraint linux/amd64" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=trace msg="No pull secret configured for this image" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:26 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:26+02:00" level=trace msg="Performing HTTP GET https://quay.io/v2/dkarpele/my-guestbook/tags/list"
    logger.go:42: 19:04:27 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:27+02:00" level=trace msg="Getting manifest for image dkarpele/my-guestbook:1.0.0 (operation 1/4)" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:27 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:27+02:00" level=trace msg="acquired metadata semaphore" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:27 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:27+02:00" level=trace msg="Getting manifest for image dkarpele/my-guestbook:1.0.1 (operation 2/4)" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:27 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:27+02:00" level=trace msg="acquired metadata semaphore" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:27 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:27+02:00" level=trace msg="Getting manifest for image dkarpele/my-guestbook:1.0.2 (operation 3/4)" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:27 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:27+02:00" level=trace msg="acquired metadata semaphore" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:27 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:27+02:00" level=trace msg="Getting manifest for image dkarpele/my-guestbook:2.0.0 (operation 4/4)" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:27 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:27+02:00" level=trace msg="acquired metadata semaphore" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:27 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:27+02:00" level=trace msg="Performing HTTP GET https://quay.io/v2/dkarpele/my-guestbook/manifests/2.0.0"
    logger.go:42: 19:04:27 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:27+02:00" level=trace msg="Performing HTTP GET https://quay.io/v2/dkarpele/my-guestbook/manifests/1.0.0"
    logger.go:42: 19:04:27 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:27+02:00" level=trace msg="Performing HTTP GET https://quay.io/v2/dkarpele/my-guestbook/manifests/1.0.1"
    logger.go:42: 19:04:27 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:27+02:00" level=trace msg="Performing HTTP GET https://quay.io/v2/dkarpele/my-guestbook/manifests/1.0.2"
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Manifest digest is ff72003df0fb82be0be34be530d239117f868ba8bc2896eb1f934e025b809bc7" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="v2 SHA digest is sha256:b793143056eb228285c4773e1aa76d1f5a5b2daf161c9629d1126ee023c9eedb" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Performing HTTP GET https://quay.io/v2/dkarpele/my-guestbook/blobs/sha256:ff72003df0fb82be0be34be530d239117f868ba8bc2896eb1f934e025b809bc7"
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Manifest digest is ff72003df0fb82be0be34be530d239117f868ba8bc2896eb1f934e025b809bc7" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="v2 SHA digest is sha256:b793143056eb228285c4773e1aa76d1f5a5b2daf161c9629d1126ee023c9eedb" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Performing HTTP GET https://quay.io/v2/dkarpele/my-guestbook/blobs/sha256:ff72003df0fb82be0be34be530d239117f868ba8bc2896eb1f934e025b809bc7"
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Manifest digest is ff72003df0fb82be0be34be530d239117f868ba8bc2896eb1f934e025b809bc7" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="v2 SHA digest is sha256:b793143056eb228285c4773e1aa76d1f5a5b2daf161c9629d1126ee023c9eedb" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Performing HTTP GET https://quay.io/v2/dkarpele/my-guestbook/blobs/sha256:ff72003df0fb82be0be34be530d239117f868ba8bc2896eb1f934e025b809bc7"
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Performing HTTP GET https://cdn01.quay.io/quayio-production-s3/sha256/ff/ff72003df0fb82be0be34be530d239117f868ba8bc2896eb1f934e025b809bc7?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIATAAF2YHTCKFFWO5C%2F20250819%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250819T170428Z&X-Amz-Expires=600&X-Amz-SignedHeaders=host&X-Amz-Signature=65bfb6cd4f684411ca1e381d0d5c3bd93a44183f2d79c526ac6c559bd448d60d&region=us-east-1&namespace=dkarpele&repo_name=my-guestbook&akamai_signature=exp=1755623968~hmac=ca14d17192054aa9186a37c6d5e2bf686c8b9db97248f189555dc0011d4c4bec"
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Manifest digest is ff72003df0fb82be0be34be530d239117f868ba8bc2896eb1f934e025b809bc7" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="v2 SHA digest is sha256:b793143056eb228285c4773e1aa76d1f5a5b2daf161c9629d1126ee023c9eedb" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Performing HTTP GET https://quay.io/v2/dkarpele/my-guestbook/blobs/sha256:ff72003df0fb82be0be34be530d239117f868ba8bc2896eb1f934e025b809bc7"
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Found date 2025-08-08 18:49:43.520564877 +0200 CEST" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="released semaphore and terminated waitgroup" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Performing HTTP GET https://cdn01.quay.io/quayio-production-s3/sha256/ff/ff72003df0fb82be0be34be530d239117f868ba8bc2896eb1f934e025b809bc7?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIATAAF2YHTCKFFWO5C%2F20250819%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250819T170428Z&X-Amz-Expires=600&X-Amz-SignedHeaders=host&X-Amz-Signature=65bfb6cd4f684411ca1e381d0d5c3bd93a44183f2d79c526ac6c559bd448d60d&region=us-east-1&namespace=dkarpele&repo_name=my-guestbook&akamai_signature=exp=1755623968~hmac=ca14d17192054aa9186a37c6d5e2bf686c8b9db97248f189555dc0011d4c4bec"
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Found date 2025-08-08 18:49:43.520564877 +0200 CEST" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="released semaphore and terminated waitgroup" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Performing HTTP GET https://cdn01.quay.io/quayio-production-s3/sha256/ff/ff72003df0fb82be0be34be530d239117f868ba8bc2896eb1f934e025b809bc7?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIATAAF2YHTCKFFWO5C%2F20250819%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250819T170428Z&X-Amz-Expires=600&X-Amz-SignedHeaders=host&X-Amz-Signature=65bfb6cd4f684411ca1e381d0d5c3bd93a44183f2d79c526ac6c559bd448d60d&region=us-east-1&namespace=dkarpele&repo_name=my-guestbook&akamai_signature=exp=1755623968~hmac=ca14d17192054aa9186a37c6d5e2bf686c8b9db97248f189555dc0011d4c4bec"
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Found date 2025-08-08 18:49:43.520564877 +0200 CEST" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="released semaphore and terminated waitgroup" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Performing HTTP GET https://cdn01.quay.io/quayio-production-s3/sha256/ff/ff72003df0fb82be0be34be530d239117f868ba8bc2896eb1f934e025b809bc7?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIATAAF2YHTCKFFWO5C%2F20250819%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250819T170428Z&X-Amz-Expires=600&X-Amz-SignedHeaders=host&X-Amz-Signature=65bfb6cd4f684411ca1e381d0d5c3bd93a44183f2d79c526ac6c559bd448d60d&region=us-east-1&namespace=dkarpele&repo_name=my-guestbook&akamai_signature=exp=1755623968~hmac=ca14d17192054aa9186a37c6d5e2bf686c8b9db97248f189555dc0011d4c4bec"
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Found date 2025-08-08 18:49:43.520564877 +0200 CEST" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="released semaphore and terminated waitgroup" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="List of available tags found: [1.0.0 1.0.1 2.0.0 1.0.2]" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Finding out whether to consider 1.0.0 for being updateable" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Finding out whether to consider 1.0.1 for being updateable" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Finding out whether to consider 1.0.2 for being updateable" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Finding out whether to consider 2.0.0 for being updateable" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=debug msg="found 4 from 4 tags eligible for consideration" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=info msg="Setting new image to quay.io/dkarpele/my-guestbook:2.0.0" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=trace msg="Setting Kustomize parameter quay.io/dkarpele/my-guestbook:2.0.0" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=info msg="Successfully updated image 'quay.io/dkarpele/my-guestbook:1.0.0' to 'quay.io/dkarpele/my-guestbook:2.0.0', but pending spec update (dry run=true)" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=debug msg="Using commit message: " application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=info msg="Dry run - not committing 1 changes to application" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=info msg="Processing results: applications=2 images_considered=2 images_skipped=0 images_updated=2 errors=0" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=info msg="Finished cache warm-up for CR=image-updater-005, namespace=argocd-image-updater-e2e. Pre-loaded 4 meta data entries from 3 registries" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=debug msg="Readiness state set to 'true'. Controller can now start reconciling." controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=warmup-cache
    logger.go:42: 19:04:28 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:28+02:00" level=info msg="Finished cache warm-up." controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=warmup-cache
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=debug msg="Starting reconciliation for ImageUpdater resource." controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=info msg="Successfully fetched ImageUpdater resource: image-updater-005, namespace: argocd-image-updater-e2e" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=debug msg="Requeue interval is zero; will run once and stop." controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=info msg="Listing all applications in target namespace: argocd-image-updater-e2e" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=trace msg="Matching application name image-updater-005-01 against pattern *-01" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=trace msg="processing app 'argocd-image-updater-e2e/image-updater-005-01' of type 'Kustomize'" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=trace msg="Matching application name image-updater-005-02 against pattern *-01" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=trace msg="Matching application name image-updater-005-02 against pattern *-02" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=trace msg="processing app 'argocd-image-updater-e2e/image-updater-005-02' of type 'Kustomize'" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=warning msg="\"latest\" strategy has been renamed to \"newest-build\". Please switch to the new convention as support for the old naming convention will be removed in future versions." controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=info msg="Starting image update cycle, considering 2 application(s) for update" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=debug msg="Processing application" application=argocd-image-updater-e2e/image-updater-005-02 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=debug msg="Processing application" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=debug msg="Considering this image for update" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=debug msg="Considering this image for update" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=debug msg="Using version constraint '~1.0' when looking for a new tag" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=trace msg="No tag match constraint found, allowing all tags" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=trace msg="Using runtime platform constraint linux/amd64" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=trace msg="No pull secret configured for this image" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=debug msg="Using version constraint 'latest' when looking for a new tag" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=trace msg="No tag match constraint found, allowing all tags" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=trace msg="Using runtime platform constraint linux/amd64" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=trace msg="No pull secret configured for this image" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=trace msg="Performing HTTP GET https://quay.io/v2/dkarpele/my-guestbook/tags/list"
    logger.go:42: 19:04:29 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:29+02:00" level=trace msg="Performing HTTP GET https://quay.io/v2/dkarpele/my-guestbook/tags/list"
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=trace msg="List of available tags found: [1.0.0 1.0.1 1.0.2 2.0.0]" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=trace msg="Finding out whether to consider 1.0.0 for being updateable" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=trace msg="Finding out whether to consider 1.0.1 for being updateable" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=trace msg="Finding out whether to consider 1.0.2 for being updateable" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=trace msg="Finding out whether to consider 2.0.0 for being updateable" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=trace msg="2.0.0 did not match constraint ~1.0" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=debug msg="found 3 from 4 tags eligible for consideration" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Setting new image to quay.io/dkarpele/my-guestbook:1.0.2" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=trace msg="Setting Kustomize parameter quay.io/dkarpele/my-guestbook:1.0.2" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Successfully updated image 'quay.io/dkarpele/my-guestbook:1.0.0' to 'quay.io/dkarpele/my-guestbook:1.0.2', but pending spec update (dry run=false)" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=debug msg="Using commit message: " application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Committing 1 parameter update(s) for application image-updater-005-01" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=debug msg="Cache hit for dkarpele/my-guestbook:1.0.0" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=debug msg="Cache hit for dkarpele/my-guestbook:1.0.1" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=debug msg="Cache hit for dkarpele/my-guestbook:1.0.2" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=debug msg="Cache hit for dkarpele/my-guestbook:2.0.0" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=trace msg="List of available tags found: [1.0.0 1.0.1 1.0.2 2.0.0]" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=trace msg="Finding out whether to consider 1.0.0 for being updateable" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=trace msg="Finding out whether to consider 1.0.1 for being updateable" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=trace msg="Finding out whether to consider 1.0.2 for being updateable" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=trace msg="Finding out whether to consider 2.0.0 for being updateable" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=debug msg="found 4 from 4 tags eligible for consideration" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Setting new image to quay.io/dkarpele/my-guestbook:2.0.0" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=trace msg="Setting Kustomize parameter quay.io/dkarpele/my-guestbook:2.0.0" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Successfully updated image 'quay.io/dkarpele/my-guestbook:1.0.0' to 'quay.io/dkarpele/my-guestbook:2.0.0', but pending spec update (dry run=false)" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e image_alias=guestbook image_name=quay.io/dkarpele/my-guestbook image_registry=quay.io image_tag=1.0.0 logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=debug msg="Using commit message: " application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Committing 1 parameter update(s) for application image-updater-005-02" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Successfully updated application spec for image-updater-005-02" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Successfully updated the live application spec" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Successfully updated application spec for image-updater-005-01" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Successfully updated the live application spec" application=argocd-image-updater-e2e/image-updater-005-01 controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Processing results: applications=2 images_considered=2 images_skipped=0 images_updated=2 errors=0" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Finish Reconciliation for CR argocd-image-updater-e2e/image-updater-005" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater imageUpdater_name=image-updater-005 imageUpdater_namespace=argocd-image-updater-e2e logger=reconcile
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="received stop signal from reconciler, shutting down manager" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater logger=controller-setup
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Stopping and waiting for non leader election runnables"
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Stopping and waiting for leader election runnables"
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Shutdown signal received, waiting for all workers to finish" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="All workers finished" controller=imageupdater controllerGroup=argocd-image-updater.argoproj.io controllerKind=ImageUpdater
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Stopping and waiting for caches"
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Stopping and waiting for webhooks"
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Stopping and waiting for HTTP servers"
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="shutting down server" addr="[::]:8081" name="health probe"
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="Wait completed, proceeding to shutdown the manager"
    logger.go:42: 19:04:31 | 005-app-wide-update-strategy/2-run-updater | time="2025-08-19T19:04:31+02:00" level=info msg="fedora_2f7dd789-168e-4a38-a6d3-2efab865b4b7 stopped leading" logger=events object="{\"kind\":\"Lease\",\"namespace\":\"image-updater-system\",\"name\":\"c21b75f2.argoproj.io\",\"uid\":\"77643e22-e263-4edd-aecc-a0600bd43382\",\"apiVersion\":\"coordination.k8s.io/v1\",\"resourceVersion\":\"63760\"}" reason=LeaderElection type=Normal
    logger.go:42: 19:04:33 | 005-app-wide-update-strategy/2-run-updater | test step completed 2-run-updater
    logger.go:42: 19:04:33 | 005-app-wide-update-strategy/99-delete | starting test step 99-delete
    logger.go:42: 19:04:39 | 005-app-wide-update-strategy/99-delete | test step completed 99-delete
    logger.go:42: 19:04:39 | 005-app-wide-update-strategy | skipping kubernetes event logging
=== NAME  kuttl
    harness.go:403: run tests finished
    harness.go:510: cleaning up
    harness.go:567: removing temp folder: ""
--- PASS: kuttl (32.87s)
    --- PASS: kuttl/harness (0.00s)
        --- PASS: kuttl/harness/005-app-wide-update-strategy (32.86s)
PASS
```